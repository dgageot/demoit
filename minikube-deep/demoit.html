<main>
<pre>
% minikube ssh "uptime"
                             _             _            
                _         _ ( )           ( )           
      ___ ___  (_)  ___  (_)| |/')  _   _ | |_      __  
    /' _ ` _ `\| |/' _ `\| || , <  ( ) ( )| '_`\  /'__`\
    | ( ) ( ) || || ( ) || || |\`\ | (_) || |_) )(  ___/
    (_) (_) (_)(_)(_) (_)(_)(_) (_)`\___/'(_,__/'`\____) 
              https://minikube.sigs.k8s.io/

              🔥Burning laps since 2016🔥
           a #sig-cluster-lifecycle project

17:30 up 3.5 years, 60,000 users, load: 0.00, 0.00, 0.00

% minikube status
Community: Excited for 2020!
 </pre>
</main>

---
<h1>Who are y'all?<i>👀</i></h1>
<main>
<table style="align-left: auto; align-right: auto;">
    <tr>
        <td>
            <img src="/images/medya.jpg" class="smaller-img" />
            <br /><center>Medya Ghazizadeh</center>
        </td>
        <td>
            <img src="/images/selgamal.jpg" class="smaller-img" />
            <br /><center>Sharif El-Gamal</center>
        </td>
        <td>
            <img src="/images/tstromberg.jpg" class="smaller-img" />
            <br /><center>Thomas Str&ouml;mberg</center>
        </td>
    </tr>
</table>

<p><center>Shout-out to @RA489, who's Visa was denied :(</center></p>
</main>

---
<h1>The Origin Story<i>✨</i></h1>

<main>
<div class="quote">
<blockquote>The most powerful magic is in the knowledge of the origin word. To know the birth and breeding of a thing or person, to reveal it, to recite it, and name it is to have power over it.
</blockquote>
<cite>Eino Friberg, The Kalevala: Epic of the Finnish People</cite>
</div>

<!-- drawing: character from Kalevala -->
</main>

---

<h1>Chesterton's Fence<i>🚧</i></h1>

<main>
<div class="quote">
<blockquote>
The more modern type of reformer goes gaily up to it and says, "I don't see the use of this; let us clear it away". To which the more intelligent type of reformer will do well to answer: "If you don't see the use of it, I certainly won't let you clear it away. Go away and think. Then, when you can come back and tell me that you do see the use of it, I may allow you to destroy
</blockquote>
<cite>G. K. Chesterton, The Thing</cite>
</div>
</main>
<!-- drawing: fence -->

---

<h1>Why am I telling you all this?<i>👶</i></h1>

<main>
<ul>
<li>The beginner mindset is hugely valuable</li>
<li>We would love to make you one of our 400+ contributors</li>
<li>We're happy to guide you on your journey to your first commit</li>
<li>minikube is not rocket science</li>
</ul>
</main>

---
<h1>Who here was running Kubernetes v1.2.x?<i>☸️</i></h1>

<main class="center">
<img src="/images/genesis.png">
</main>

---

<h1>A Brief History of Time<i>⌛</i></h1>

<main class="center">
    <img src="/images/history.png" />
</main>

---

<h1>Principles<i>📜</i></h1>
<main>
<p>Simple local Kubernetes, for day-to-day development &amp; learning.</p>

<ul>
    <li>Inclusive and community-driven</li>
    <li>User-friendly</li>
    <li>Support all Kubernetes features</li>
    <li>Cross-platform</li>
    <li>Reliable</li>
    <li>High Performance</li>
    <li>Developer Focused</li>
</ul>
</main>

---

<h1>New Users vs Accurate Simulation<i>👯</i></h1>
<main class="center">
Competing priorities? Not if you respect Principle of Least Surprise. <img src="/images/two-masters.png">

</main>

---

<main class="center">
<p style="text-align: center">It turns out, the combination can work pretty well.</p>

<img src="/images/minikube-k8s-dev.png">
</main>

---

<h1>Support Matrix <i>😱</i></h1>

<main class="center">
    <img src="/images/matrix.png" />
</main>

---
<h1>Accomplishments in 2019<i>🚀</i></h1>
<main>
    <ul>
        <li>Same-day cadence with Kubernetes major releases</li>
        <li>Simplified installation</li>
        <li>Multi-lingual: de, es, en-US, fr, ja, pl, zh-CN</li>
        <li>Multi-cluster (<code>profiles</code>)</li>
        <li>Loads more options: image mirrors, JSON output, profile list, --all</li>
        <li>Environmental awareness: proxies, kubectl versions, networking</li>
        <li>Reduced start latency</li>
    </ul>
</main>
---

<h1>http://minikube.sigs.k8s.io<i>🚀</i></h1>
<main class="center">
   <img src="/images/tutorials.png">
</main>
---

<h1>Architecture<i>🏛️</i></h1>

<main>
<div class="flexy">
    <div>
    <img src="/images/minikube-xkcd-vertical.png" class="left" />
    </div>
    <div class="right">
    <ul class="tech">
        <li>T-85: start -> libmachine -> hyperkit VM</li>
        <li>T-62: cluster -> ssh, sync time, CRI</li>
        <li>T-60: cache -> load images into CRI</li>
        <li>T-41: bootstrapper -> install kubeadm</li>
        <li>T-40: kubeadm -> pull</li>
        <li>T-28: kubeadm -> init</li>
        <li>T-8: bootstrapper -> wait for apiserver</li>
        <li>T-0: kubeconfig -> set context</li>
        </li>
    </ul>
    </div>
</div>

</section>

</min>
---

<h1>minikube today<i>😀</i></h1>

<!--
# driver auto-select, lang, addons, deletion
minikube config set memory 16384
minikube start --kubernetes-version v1.17.0-beta.0 --addons helm-tiller -p kubecon --wait=false
minikube profile list
minikube delete --all
-->

<split-view>
    <web-term path="."></web-term>
    <source-code folder="src" files="cmd/start.go pkg/hyperkit.go pkg/docker.go pkg/kubeadm.go pkg/templates.go"
        start-lines="271;57;89;279;99" end-lines="273;58;90;281;152">
    </source-code>
</split-view>

---
<h1>minikube vs prod <i>🦄</i></h1>

<main>
<ul>
    <li>The master allows jobs to be scheduled</li>
    <li>Node won't resolve Kubernetes DNS records (pods can though!)</li>
    <li>More likely to OOM due to 2GB default memory size (<code>--memory</code>)</li>
    <li>Defaults to Docker runtime, allows direct image pushes</li>
</ul>
</main>

---
<h1>minikube vs others <i>❤️</i></h1>

<main>
    <div class="quote">
    <blockquote>
    minikube is what we recommend when you’re willing to pay some overhead for a more high-fidelity cluster</blockquote>
    <cite>&mdash; <a href="https://docs.tilt.dev/choosing_clusters.html">Tilt's guide to cluster selection</cite>
    </div>
</main>


---

<h1>minikube pros<i>👍</i></h1>

<main>
    <ul>
        <li>The most full-featured local Kubernetes</li>
        <li>Easily run different k8s versions, container runtimes, controllers</li>
        <li>Build images in-cluster with <code>minikube docker-env</code></li>
        <li>Developer-focused: LoadBalancer, addons, dashboard.</li>
        <li>Supports last 6+ Kubernetes releases (v1.11 to v1.17)</li>
        <li>Ability to use technologies that requires kernel module support
            <ul>
                <li>gVisor</li>
                <li>KATA</li>
            </ul>
        </li>
    </ul>
</main>

---

<h1>minikube cons<i>👎</i></h1>

<main>
<ul>
    <li>Higher overhead - you'll want to stop it when not in use*</li>
    <li>Running within a VM makes Kubernetes performance slower*</li>
    <li>Hypervisors can be difficult to configure</li>
    <li>Incompatible with VPN's that block LAN IP's</li>
    <li>Does not yet support multi-node* or IPv6</li>
</ul>
</main>

---
<h1>VM overhead is much less than you may think.<i>🔥</i></h1>

<main class="center">
<img src="/images/overhead.png" />
</main>

---

<h1>Surveys are critical for user empathy<i>💡</i></h1>

<main class="center">
  <img src="/images/q4-categories.png">
</main>

---

<h1>Documentation <i>📚</i></h1>

<main class="center">
<img src="/images/q4-docs.png">
</main>

---

<h1>Features <i>💯</i></h1>

<main class="center">
<img src="/images/q4-features.png">
</main>

---

<h1>Y U FAIL?<i>🤷</i></h1>

<main>
<ul class="tech">
<ol>
    <li>None driver compatibility (6x)</li>
    <li>Confounding Windows errors (4x)</li>
    <li>Great Firewall of China (3x)</li>
    <li>Nested virtualization(2x)</li>
    <li>None driver - incomplete cleanup (2x)</li>
    <li>Services confusion (2x)</li>
    <li>KVM/libvirt networking (2x)</li>
    <li>VPN or firewall issue (2x)</li>
    <li>Obsolete Kubernetes flags (2x)</li>
</ol>
</main>

---
<h1>Debugging common issues<i>🐛</i></h1>
<main>
<ul>
    <li>Hypervisor failure: <code>start --alsologtostderr</code></li>
    <li>kubelet failed: <code>kubelet</code> section of <code>minikube logs</code>
    <li>not scheduling: <code>kubectl describe node</code></li>
    <li>apiserver crashed: <code>minikube logs</code>, look for OOM in <code>dmesg</code></li>
    <li>apiserver did to appear: <code>minikube logs</code>, see <code>kubelet</code> &amp; <code>apiserver</code></li>
    <li>connectivity failure: <code>VPN, firewall</code> reboot?</li>
</ul>
There is also <code>minikube logs --problems</code>, but it isn't great (yet!)
</main>

---

<h1>Draft 2020 roadmap<i>🗺️</i></h1>

<main>
<div class="flexy">
<div>
<ul>
    <li>Multi-node</li>
    <li>Improved VM-free deployments</li>
    <li>Background-friendly</li>
    <li>Pause / Unpause</li>
    <li>Toolbar with resource alerts</li>
    <li>Hypervisor installation</li>
</ul>
</div>
<div class="right">
<ul>
    <li>Revamp of addons</li>
    <li>&gt;25% CPU overhead</li>
    <li>Startup latency under 45s</li>
    <li>post-libmachine exploration</li>
    <li>Kernel-assisted mounts</li>
    <li>Improved CNI integration</li>
</ul>
</div>
</div>
</main>

---

<h1>Confusing configuration persistence<i>😣</i></h1>

<main>
<ul>
    <li>Currently, start flags are not persistent across restarts</li>
    <li>No separation of cluster creation and restart</li>
    <li>For persistent config across profiles, use `minikube config`</li>
    <li>In v1.6, will become `--kubernetes-version` sticky across restarts</li>
    <li>Addons enable/disable is still global and persistent</li>
</ul>

In 2020, let's clean up the config UX.
</main>

---

<h1>Multi-node: Prototype<i>🐙</i></h1>

<split-view>
    <web-term path="."></web-term>
    <source-code folder="src" files="cmd/start.go pkg/hyperkit.go pkg/docker.go pkg/kubeadm.go pkg/templates.go"
        start-lines="271;57;89;279;99" end-lines="273;58;90;281;152">
    </source-code>
</split-view>


---

<h1>Container deployment: Prototype<i>🐳</i></h1>

<split-view>
    <web-term path="."></web-term>
    <source-code folder="src" files="cmd/start.go pkg/hyperkit.go pkg/docker.go pkg/kubeadm.go pkg/templates.go"
        start-lines="271;57;89;279;99" end-lines="273;58;90;281;152">
    </source-code>
</split-view>

---

<h1>Container deployments (VM-free)</h1>

<main>
<ul>
    <li>Prototyped with Kind, but rewritten to match our feature-set</li>
    <li>Deployable using Docker or Podman</li>
    <li>Container runtimes: Docker, containerd, CRIO</li>
    <li>Effectively obsoletes the 'none' driver</li>
    <li>I'm personally hoping for a Kind convergence story</li>
</ul>
</main>

---
<h1>Container deployment shortcomings</h1>

<main>
<ul>
    <li>Resource scheduling misbehaves if swap is enabled</li>
    <li>Unable to use tools that require kernel support, like gVisor</li>
    <li>No direct IP connectivity on maCOS</li>
    <li>No performance advantage on non-Linux platforms</li>
</ul>
</main>

---

<h1>UI: Prototype<i>🐳</i></h1>

<split-view>
    <web-term path="."></web-term>
    <source-code folder="src" files="ui/main.go ui/clusters.go ui/pause.go"
        start-lines="283;80;50" end-lines="288;101;60">

    </source-code>
</split-view>

---

<h1>Help Wanted!<i>😍</i></h1>

<main>
<!-- insert help wanted art -->

<ul>
<li>Beginners and experienced Kubernetes contributors needed!</li>
<li>Tutorial and other doc contributions needed!</li>
<li>Like problem solving user issues? Issue triagers needed!</li>
<li>Need inspiration? <code>good first issue</code> & <code>help wanted</code> labels</li>
</ul>
<ul>
<li><code>#minikube</code> on Kubernetes Slack</li>
<li>bi-weekly office-hours</li>
<li><a href="https://minikube.sigs.k8s.io/">https://minikube.sigs.k8s.io/</a></li>
<li><a href="mailto:tstromberg@google.com">tstromberg@google.com</a></li>
</ul>

</main>
